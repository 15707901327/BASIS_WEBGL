<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>内置函数</title>
  <link rel="stylesheet" href="../../css/base.css">
</head>
<body>
<div class="l-r-wrapper">
  <div class="left">
    <ul class="ul-1">
      <li><a href="#vec4">创建变量的函数</a></li>
      <li><a href="#exp">指数函数</a></li>
      <li><a href="#dot">几何函数</a></li>
      <li><a href="#clamp">通用函数</a></li>
      <li><a href="#acos">角度和三角函数</a></li>
      <li>
        <a href="#texture">纹理查询函数</a>
        <ul class="ul-1">
          <li><a href="#texture2D">texture2D()</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="right">
    <section id="vec4">
      <h4>创建变量的函数</h4>
      <div class="content">
        <p>vec4 vec4(v0,v1,v2,v3)</p>
        <pre>
根据v0，v1，v2，v3值创建vec4对象
参数：
v0，v1，v2，v3：指定4个浮点型分量
返回值：
由v0，v1，v2，v3组成的vec4对象
</pre>
      </div>
    </section>
    <section id="dot">
      <h4>几何函数</h4>
      <div class="content">
        <table border="1">
          <tr>
            <th>语法</th>
            <th>描述</th>
          </tr>
          <tr>
            <td>
              float dot(float x, float y);<br>
              float dot(vec2 x, vec2 y);<br>
              float dot(vec3 x, vec3 y);<br>
              float dot(vec4 x, vec4 y);<br>
            </td>
            <td>返回x和y的点积, 对于vec3而言就是x[0] * y[0] + x[1] * y[1] + x[2] * y[2]</td>
          </tr>
        </table>
      </div>
    </section>
    <section id="exp">
      <h4>指数函数</h4>
      <div class="content">
        <table border="1">
          <tr>
            <th>语法</th>
            <th>描述</th>
          </tr>
          <tr>
            <td>
              float exp(float x);<br>
              vec2 exp(vec2 x);<br>
              vec3 exp(vec3 x);<br>
              vec4 exp(vec4 x);<br>
            </td>
            <td>返回x自然指数幂，即e^x</td>
          </tr>
        </table>
      </div>
    </section>
    <section id="clamp">
      <h4>通用函数</h4>
      <div class="content">
        <table border="1">
          <tr>
            <th>语法</th>
            <th>描述</th>
          </tr>
          <tr>
            <td>
              float clamp(float x, float minVal, float maxVal);<br>
              vec2 clamp(vec2 x, vec2 minVal, vec2 maxVal);<br>
              vec3 clamp(vec3 x, vec3 minVal, vec3 maxVal);<br>
              vec4 clamp(vec4 x, vec4 minVal, vec4 maxVal);<br>
              vec2 clamp(vec2 x, float minVal, float maxVal);<br>
              vec3 clamp(vec3 x, float minVal, float maxVal);<br>
              vec4 clamp(vec4 x, float minVal, float maxVal);<br>
            </td>
            <td>将x限制在minVal和maxVal之间，即返回min(max(x,minVal),maxVal)。如果minVal > maxVal，则返回未定义</td>
          </tr>
        </table>
      </div>
    </section>
    <section id="acos">
      <h4>角度和三角函数</h4>
      <div class="content">
        <table border="1">
          <tr>
            <th>语法</th>
            <th>描述</th>
          </tr>
          <tr>
            <td>
              float acos(float x);<br>
              vec2 acos(vec2 x);<br>
              vec3 acos(vec3 x);<br>
              vec4 acos(vec4 x);<br>
            </td>
            <td>反余弦函数，返回角度（弧度值）的正弦值为x。返回值在[-π/2，π/2]区间内，如果x < -1 或者 x > +1 则返回未定义的值</td>
          </tr>
        </table>
      </div>
    </section>
    <section id="texture">
      <h4>纹理查询函数</h4>
      <div class="content">
        <table border="1">
          <tr>
            <th>语法</th>
            <th>描述</th>
          </tr>
          <tr>
            <td>
              vec4 texture2D(sampler2D sampler,vec2 coord)<br>
              vec4 texture2D(sampler2D sampler,vec2 coord,float bias)<br>
              vec4 texture2DProj(sampler2D sampler,vec3 coord)<br>
              vec4 texture2DProj(sampler2D sampler,vec3 coord,float bias)<br>
              vec4 texture2DProj(sampler2D sampler,vec4 coord)<br>
              vec4 texture2DProj(sampler2D sampler,vec4 coord,float bias)<br>
              vec4 texture2DLod(sampler2D sampler,vec2 coord,float lod)<br>
              vec4 texture2DLod(sampler2D sampler,vec3 coord,float bias)<br>
              vec4 texture2DLod(sampler2D sampler,vec4 coord,float bias)<br>
            </td>
            <td>
              使用纹理坐标coord，从当前绑定到sampler的二维纹理中读取相应的纹素。对于投影版本（带有Proj的），纹理坐标将从coord的最后一个分量中解析出来，而vec4类型的coord的第3个分量将被忽略，参数bias只可在片元着色器中使用，它表示在sampler是MIPMAP纹理时，加载当前lod上的值
            </td>
          </tr>
          <tr>
            <td>
              vec4 textureCube(samplerCube sampler,vec3 coord)<br>
              vec4 textureCube(samplerCube sampler,vec3 coord,float bias)<br>
              vec4 textureCubeLoad(samplerCube sampler,vec3 coord,float lod)<br>
            </td>
            <td>
              使用纹理坐标coord，从绑定到sampler的立方体纹理中读取响应纹理。coord的方向可用来指定立方体纹理表面
            </td>
          </tr>
        </table>
      </div>
    </section>
    <section id="texture2D">
      <h4>vec4 texture2D(sampler2D sampler,vec2 coord)</h4>
      <p>从sampler指定的纹理上获取coord指定的纹理坐标处的像素颜色</p>
      <div class="content">
        <strong>参数：</strong>
        <ul class="ul-1">
          <li>sampler:指定纹理单元编号</li>
          <li>coord:指定纹理坐标</li>
        </ul>
        <strong>返回值：</strong>
        <p>
          纹理坐标处像素的颜色值，其格式由gl.texImage2D()的internalformat参数决定。
          下表显示来不同参数下的返回值。如果由于某些原因导致纹理图像不可使用，那就返回（0.0,0.0,0.0,1.0）
        <table border="1">
          <tr>
            <th>internalformat</th>
            <th>返回值</th>
          </tr>
          <tr>
            <td>gl.RGB</td>
            <td>(R,G,B,1.0)</td>
          </tr>
          <tr>
            <td>gl.RGBA</td>
            <td>(R,G,B,A)</td>
          </tr>
          <tr>
            <td>gl.ALPHA</td>
            <td>(0.0,0.0,0.0,A)</td>
          </tr>
          <tr>
            <td>gl.LUMINANCE</td>
            <td>(L,L,L,1.0)</td>
          </tr>
          <tr>
            <td>gl.LUMINANCE_ALPHA</td>
            <td>(L,L,L,A)</td>
          </tr>
        </table>
        </p>
        <strong>实例</strong>
        <ul class="ul-1">
          <li><a href="../../WebGL编程指南/ch5/TexturedQuad.html">显示纹理贴图</a></li>
          <li><a href="../../WebGL编程指南/ch5/TexturedQuad_Repeat.html">显示纹理贴图(重复)</a></li>
        </ul>
      </div>
    </section>
  </div>
</div>
</body>
</html>